<script>
  window.Curium = window.Curium || {};
  Curium.CuriumResponsiveLayout = Curium.CuriumResponsiveLayout || {};
  Curium.CuriumResponsiveLayout.LayouterMixin = function(superClass) {
    return class extends superClass {
      
      layoutContainer(layoutHost, layoutContainer, containerWidth, childNodes) {
        
      }

      _applyStyles(element, styles) {
        let oriStyles = element.getAttribute('style') || '';

        let matches = oriStyles.match(/^(.*?)\s*\/\*layouter-styles:\*\/.*\/\*:layouter-styles\*\/\s*(.*?)$/);
        let nonLayouterStyles;
        if (matches) {
          nonLayouterStyles = matches[1] + matches[2];
        } else {
          nonLayouterStyles = oriStyles;
        }

        let layouterStyles = '';
        if (styles) {
          for (let prop in styles) {
            layouterStyles += `${prop}:${styles[prop]}; `;
          }
        }
        layouterStyles = layouterStyles.trim();

        let attrValue;
        if (layouterStyles) {
          attrValue = `${nonLayouterStyles}/*layouter-styles:*/${layouterStyles}/*:layouter-styles*/`;
        } else {
          attrValue = nonLayouterStyles;
        }

        if (attrValue) {
          element.setAttribute('style', attrValue);
        } else {
          element.removeAttribute('style');
        }

      }
      
    }
  }
</script>